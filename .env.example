# NetBox configuration
NETBOX_URL=https://netbox.example.com
NETBOX_TOKEN=your-api-token-here
NETBOX_VERIFY_SSL=true

# Switch selector for FDB collection
# Servers are auto-detected by presence of OOB IP in NetBox
SWITCHES_SELECTOR=role:switch

# Polling configuration
POLL_INTERVAL=300
MOVE_CONFIRM_RUNS=2

# SNMP configuration
SNMP_COMMUNITY=public
SNMP_VERSION=2c
SNMP_TIMEOUT=5
SNMP_RETRIES=2

# Uplink detection (comma-separated patterns)
UPLINK_PORTS=Ethernet49,Ethernet50,Ethernet51,Ethernet52
UPLINK_PATTERNS=uplink,trunk,lag,po

# MLAG groups (JSON format: {"group1": ["switch1", "switch2"]})
MLAG_GROUPS={}

# Alerting: записи идут в NetBox Journal Entries
# Токен NETBOX_TOKEN должен иметь права на создание journal entries и изменение device tags

# Tag-based alerting for NetBox Webhooks (e.g., KeepHQ integration)
# This tag is added to device when IPMI move is detected, removed when OK
MOVE_TAG_NAME=ipmi-moved

# State database
STATE_DB_PATH=./state.db
# Or for PostgreSQL:
# DB_DSN=postgresql://user:password@localhost:5432/netbox_agent

# Alert deduplication
REMIND_AFTER=6h

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
